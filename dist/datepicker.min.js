/*! For license information please see datepicker.min.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/date.ts":(e,t,n)=>{n.r(t),n.d(t,{createDatesInMonth:()=>a});var a=function(e){var t=document.createElement("div");t.id="days-container-"+e.id,t.classList.add("date-picker-days-container");for(var n=0;n<6;n++){var a=document.createElement("div");a.classList.add("date-picker-week");for(var r=0;r<7;r++){var s=i(e,7*n+r);a.appendChild(s)}t.appendChild(a)}return t},i=function(e,t){var n=document.createElement("div");n.setAttribute("data-index",t.toString());var a=!1;n.classList.add("date-picker-day","date-picker-label"),n.oncontextmenu=function(){e.setMultiMonthDateRange(t),r(e)},n.ontouchstart=function(e){a=!0},n.ontouchend=function(){e.isInSelectMode=!1,a=!1},n.ontouchcancel=function(){e.isInSelectMode=!1,a=!1};var i=null;n.ontouchmove=function(t){if(t.preventDefault(),!e.isInMultiMonthSelectMode){var n=t.touches[0],a=n.clientX,r=n.clientY,s=document.elementFromPoint(a,r);i!==s&&(i=s,s.dataset.index&&e.setEndDateRange(Number(Number(s.dataset.index))))}},n.onpointerdown=function(n){2!==n.button&&(e.isInMultiMonthSelectMode?(e.setMultiMonthDateRange(t),r(e)):(e.isInSelectMode=!0,e.setStartDateRange(t)))},n.onpointermove=function(n){a||(n.preventDefault(),e.isInSelectMode&&e.setEndDateRange(t))},n.onpointerup=function(n){a||(n.stopPropagation(),e.setEndDateRange(t),e.setSelectMode(!1))};var s=e.daysInMonth[t];return s.month!==e.month&&n.classList.add("not-current-month"),n.innerHTML=s.date.toString(),n},r=function(e){e.isInMultiMonthSelectMode?e.pickerView.container.classList.add("date-picker-long-select"):e.pickerView.container.classList.remove("date-picker-long-select")}},"./src/datepicker-layout.ts":(e,t,n)=>{n.r(t),n.d(t,{maxYearDefault:()=>o,minYearDefault:()=>l,createDatePickerLayout:()=>c});var a=n("./src/date.ts"),i=n("./src/month.ts"),r=n("./src/year.ts"),s=n("./src/util.ts"),o=9999,l=1,c=function(e,t){var n=["<",">"],o=document.createElement("div");(o=document.createElement("div")).id="date-picker-container-"+e.id,o.classList.add("date-picker-container","".concat(e.isInMultiMonthSelectMode?"date-picker-long-select":"date-picker-container"));var l=document.createElement("div");l.onpointerup=function(){e.setSelectMode(!1)},l.onpointerleave=function(){e.setSelectMode(!1)},l.classList.add("date-picker");var c=(0,i.createMonth)(e,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),h=(0,r.createYear)(e),f=d(n[0],e.prevMonth.bind(e)),v=d(n[1],e.nextMonth.bind(e)),p=u(["S","M","Tu","W","Th","F","S"]),D=document.createElement("div");D.classList.add("date-picker-navHeader"),D.appendChild(f),D.appendChild(c),D.appendChild(h),D.appendChild(v),l.appendChild(D),l.appendChild(p);var m=(0,a.createDatesInMonth)(e);return l.appendChild(m),l.oncontextmenu=function(e){e.preventDefault()},(0,s.disableHoverOnTouch)(o),o.appendChild(l),{container:o,layout:l}},d=function(e,t){var n=document.createElement("div");return n.classList.add("date-picker-navArrow"),n.innerHTML=e,n.onpointerdown=function(){t&&t()},n},u=function(e){var t=document.createElement("div");t.classList.add("date-picker-week");for(var n=0;n<7;n++){var a=document.createElement("div");a.innerHTML=e[n],a.classList.add("day-of-week-label","date-picker-label"),0===n&&a.classList.add("day-of-week-sun"),t.appendChild(a)}return t}},"./src/month.ts":(e,t,n)=>{n.r(t),n.d(t,{createMonth:()=>a,createMonthSelect:()=>i});var a=function(e,t){var n=document.createElement("div"),a=i(e,t);return n.id="picker-"+e.id+"-month",n.classList.add("date-picker-month"),n.innerHTML=t[e.month],n.appendChild(a),n.onclick=function(){var t;a.classList.add("date-picker-month-select-show");var n=null===(t=a.firstElementChild)||void 0===t?void 0:t.getBoundingClientRect().height;null==a||a.scrollTo(0,n*(e.month-1)||0),null==a||a.focus()},n},i=function(e,t){var n=document.createElement("div");return n.classList.add("date-picker-month-select"),n.tabIndex=-2,t.forEach((function(t,a){var i=document.createElement("div");i.classList.add("date-picker-month-select-name"),a%2!=0&&i.classList.add("date-picker-month-name-alt"),a===e.month&&i.classList.add("date-picker-month-select-selected"),i.innerHTML=t,i.onclick=function(){e.setMonth(a)},n.appendChild(i)})),n.onblur=function(){n.classList.remove("date-picker-month-select-show")},n}},"./src/util.ts":(e,t,n)=>{n.r(t),n.d(t,{disableHoverOnTouch:()=>a,debounce:()=>i,resetDate:()=>r});var a=function(e){var t=0;document.addEventListener("touchstart",(function(){t=(new Date).getTime()}),!0),document.addEventListener("touchstart",(function(){e.classList.remove("hasHover")}),!0),document.addEventListener("mousemove",(function(){(new Date).getTime()-t<500||e.classList.add("hasHover")}),!0)};function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];clearTimeout(t),t=setTimeout((function(){e.apply(null,i)}),n)}}var r=function(e){var t=new Date;return t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(1),t}},"./src/year.ts":(e,t,n)=>{n.r(t),n.d(t,{createYear:()=>o});var a=n("./src/util.ts"),i=n("./src/datepicker-layout.ts");function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o=function(e){var t=document.createElement("div");t.id="picker-"+e.id+"-year",t.classList.add("date-picker-year"),t.innerHTML=e.year.toString();var n=l(e);return t.appendChild(n),t.onclick=function(){n.classList.add("date-picker-year-select-show"),n.focus()},t},l=function(e){var t=document.createElement("div"),n=f(e.year),i=u(e,e.year);t.classList.add("date-picker-year-select"),n.classList.add("date-picker-year-select-input"),t.tabIndex=-1;var r=(0,a.debounce)(c),s=/^[1-9][0-9]{0,3}$|(^$)/i,o=n.value;return n.addEventListener("input",(function(){s.test(n.value)?(o=n.value,r(t,e,Number(o)||"")):n.value=o})),n.onblur=function(n){t.contains(n.relatedTarget)||(t.classList.remove("date-picker-year-select-show"),c(t,e,e.year))},t.onfocus=function(){n.value=e.year.toString(),n.dispatchEvent(new Event("input")),d(t,Number(n.value)||null),n.focus()},t.appendChild(n),t.appendChild(i),t},c=function(e,t,n){var a=n?u(t,n):document.createElement("div");n?a=u(t,n):(console.log("empty"),(a=document.createElement("div")).classList.add("date-picker-year-select-empty")),e.replaceChild(a,e.childNodes[1]),d(e,n||null)},d=function(e,t){if(null!==t)try{var n=e.childNodes[1],a=n.firstChild,i=t-Number(a.innerHTML),r=a.getBoundingClientRect().height;n.scrollTo(0,(i-2)*r)}catch(e){console.log(e)}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.maxYearDefault,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.minYearDefault,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,o=document.createElement("div"),l=n-a>=s?s:n-a;o.classList.add("date-picker-year-select-item-container");var c=t-l>=a?t-l:a,d=function(){for(var i=[],r=0;r<=2*l;r++){var s=c+r;if(s>n||s>t+l)break;if(c<a)break;var o=s===t?"date-picker-year-select-selected":"date-picker-year-select-item";i.push(h(s,e,"date-picker-year-select-item",o))}return i};return o.replaceChildren.apply(o,r(d())),o.addEventListener("scroll",(function(){var e=o.scrollTop,t=o.scrollHeight,n=o.clientHeight;if(0===e){console.log("top");var i=c-s>=a?c-s:a;if(i===c)return;var l=c-i;c=i,o.prepend.apply(o,r(d()));var u=o.firstChild.getBoundingClientRect().height;o.scrollTo(0,u*l)}t-e===n&&console.log("bottom")})),o},h=function(e,t){var n,a=document.createElement("div");a.tabIndex=-1;var i=document.createTextNode(e.toString());a.appendChild(i);for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return(n=a.classList).add.apply(n,s),a.onclick=function(){t.setYear(e)},a},f=function(e){var t=document.createElement("input");return t.type="text",t.value=e.toString(),t}},"./src/style.css":(e,t,n)=>{n.r(t)}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{n.r(a),n.d(a,{default:()=>o});n("./src/style.css");var e=n("./src/datepicker-layout.ts");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function n(a,i,r){t(this,n),s(this,"daysInMonth",[]),s(this,"initialSelectedDate",null),s(this,"startDate",null),s(this,"endDate",null),s(this,"isSameDateValues",!0),s(this,"isInSelectMode",!1),s(this,"isInMultiMonthSelectMode",!1),this.id=n.baseID,n.baseID++,this.fullDate=a,this.sendDateCallback=i,this.daysInMonth=n.GetDaysInMonth(this.fullDate.getFullYear(),this.fullDate.getMonth()),this.pickerView=(0,e.createDatePickerLayout)(this,r)}return r(n,[{key:"month",get:function(){return this.fullDate.getMonth()}},{key:"year",get:function(){return this.fullDate.getFullYear()}},{key:"setYear",value:function(t){if(this.year!==t){var a=t>e.maxYearDefault?e.maxYearDefault:t<e.minYearDefault?e.minYearDefault:t;this.fullDate.setFullYear(a),this.daysInMonth=n.GetDaysInMonth(this.year,this.month);var i=(0,e.createDatePickerLayout)(this);this.updateView(i)}}},{key:"setMonth",value:function(t){if(this.month!==t&&!(this.fullDate.getFullYear()===e.maxYearDefault&&t>11||this.fullDate.getFullYear()===e.minYearDefault&&t<0)){this.fullDate.setMonth(t),this.daysInMonth=n.GetDaysInMonth(this.year,this.month);var a=(0,e.createDatePickerLayout)(this);this.updateView(a)}}},{key:"updateView",value:function(e){this.pickerView.container.replaceChild(e.layout,this.pickerView.layout),this.pickerView.layout=e.layout,this.highlightSelectedDateRange()}},{key:"nextMonth",value:function(){this.setMonth(this.month+1)}},{key:"prevMonth",value:function(){this.setMonth(this.month-1)}},{key:"setSelectMode",value:function(e){this.isInSelectMode=e,this.triggerDateCallback()}},{key:"getLayout",value:function(){return this.pickerView.container}},{key:"triggerDateCallback",value:function(){this.isSameDateValues||this.isInMultiMonthSelectMode||!this.isInSelectMode&&this.startDate&&this.endDate&&(this.sendDateCallback(this.startDate.toDate(),this.endDate.toDate()),this.isSameDateValues=!0)}},{key:"setStartDateRange",value:function(e){this.initialSelectedDate=this.daysInMonth[e],this.startDate&&this.endDate&&this.isInSelectedRange(this.initialSelectedDate.toDate())?this.deselectDateRange():(this.isSameDateValues=!1,this.startDate=this.initialSelectedDate,this.endDate=this.initialSelectedDate),this.highlightSelectedDateRange()}},{key:"setEndDateRange",value:function(e){this.initialSelectedDate&&this.isInSelectMode&&(this.endDate=this.daysInMonth[e],this.endDate.toDate().getTime()<this.initialSelectedDate.toDate().getTime()?(this.startDate=this.endDate,this.endDate=this.initialSelectedDate):this.startDate=this.initialSelectedDate,this.highlightSelectedDateRange())}},{key:"setMultiMonthDateRange",value:function(e){document.getElementById("days-container-"+this.id);this.isInMultiMonthSelectMode?(this.endDate=this.daysInMonth[e],l.CompareDays(this.startDate,this.endDate)<0&&(this.startDate=this.endDate,this.endDate=this.initialSelectedDate),this.isInMultiMonthSelectMode=!1):(this.isSameDateValues=!1,this.initialSelectedDate=this.daysInMonth[e],this.isInSelectMode=!1,this.isInMultiMonthSelectMode=!0,this.startDate=this.initialSelectedDate,this.endDate=this.initialSelectedDate),this.sendDateCallback(this.startDate.toDate(),this.endDate.toDate()),this.highlightSelectedDateRange(),this.isSameDateValues=!0}},{key:"deselectDateRange",value:function(){this.isInSelectMode=!1,this.startDate=null,this.endDate=null,this.sendDateCallback(this.startDate,this.endDate)}},{key:"highlightSelectedDateRange",value:function(){var e=this,t=this.pickerView.container.getElementsByClassName("date-picker-day");this.daysInMonth.forEach((function(n,a){e.isInSelectedRange(n.toDate())?t[a].classList.add("day-selected"):t[a].classList.remove("day-selected")}))}},{key:"isInSelectedRange",value:function(e){return null!==this.startDate&&null!==this.endDate&&n.IsDateWithinRange(e,this.startDate.toDate(),this.endDate.toDate())}}],[{key:"GetDaysInMonth",value:function(e,t){var n=new Date(e,t,1);n.setFullYear(e);var a=n.getDay();n.setDate(n.getDate()-a);for(var i=[],r=0;r<42;r++)i.push(new l(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);return i}},{key:"IsDateWithinRange",value:function(e,t,n){return e.getTime()>=t.getTime()&&e.getTime()<=n.getTime()}}]),n}();s(o,"baseID",1);var l=function(){function e(n,a,i){t(this,e);var r=new Date(n,a,i);r.setFullYear(n),this.fullDate=r}return r(e,[{key:"year",get:function(){return this.fullDate.getFullYear()}},{key:"month",get:function(){return this.fullDate.getMonth()}},{key:"date",get:function(){return this.fullDate.getDate()}},{key:"dayOfWeek",get:function(){return this.fullDate.getDay()}},{key:"toDate",value:function(){return this.fullDate}}],[{key:"CompareDays",value:function(e,t){if(null!==e&&null!==t){var n=e.toDate().getTime(),a=t.toDate().getTime();return n>a?-1:a>n?1:0}}}]),e}()})()})();
//# sourceMappingURL=datepicker.min.js.map